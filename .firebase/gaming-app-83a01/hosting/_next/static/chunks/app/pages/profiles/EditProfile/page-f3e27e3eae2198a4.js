(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{2376:function(e,t,r){Promise.resolve().then(r.bind(r,9401))},7429:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(4086),s=r(3085),l=r(6401);async function o(){let e=(0,s.v0)().currentUser;if(e)try{let t=e.uid,r=(0,a.IO)((0,a.hJ)(l.db,"profiles"),(0,a.ar)("userID","==",t)),s=await (0,a.PL)(r);if(s.empty)return console.log("Profile does not exist"),null;{let e=s.docs[0],t=e.data();return console.log("User's display Name is: ",t.displayName),{...t,docId:e.id}}}catch(e){console.log("Error fetching profile",e,e.code)}else console.log("User is not logged in")}},6401:function(e,t,r){"use strict";r.d(t,{db:function(){return n}});var a=r(994),s=r(3085),l=r(4086),o=r(9584);let i=(0,a.ZF)({apiKey:"AIzaSyCN-90uldG5_72H1nqI0iGTsfddmkoLVY8",authDomain:"gaming-app-83a01.firebaseapp.com",projectId:"gaming-app-83a01",storageBucket:"gaming-app-83a01.appspot.com",messagingSenderId:"376270645962",appId:"1:376270645962:web:91a2c8e53cd44100ce6233",measurementId:"G-H4YCETZ4FY"});(0,s.v0)(i);let n=(0,l.ad)(i),c=(0,o.cF)(i);(0,o.iH)(c)},9401:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(7437),s=r(4033),l=r(2265),o=r(6093),i=r(6716),n=r(7429),c=r(3085),d=r(4086),u=r(6401);let f=async(e,t)=>{if(!e)throw Error("docId is required");let r=(0,d.JU)(u.db,"profiles",e);try{await (0,d.r7)(r,t),console.log("Document successfully updated!")}catch(e){throw console.error("Error updating document: ",e),Error("failed to update profile")}};r(3649);var m=r(4651),p=r(9584),h=(e,t)=>{let r=(0,p.cF)(),a="ProfileImages/".concat(e.name),s=(0,p.iH)(r,a),l=(0,p.B0)(s,e,{contentType:"image/jpeg"});l.on("state_changed",e=>{switch(console.log("Upload is "+e.bytesTransferred/e.totalBytes*100+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}},e=>{console.log("Error uploading file",e)},()=>{(0,p.Jt)(l.snapshot.ref).then(e=>{console.log("File available at",e),t(e)})})},x=r(6820),g=r.n(x),j=()=>{let[e,t]=(0,l.useState)(null),[r,d]=(0,l.useState)({imageUrl:"",displayName:"",bio:"",socialMediaLinks:{discord:"",instagram:"",steam:"",twitch:"",youtube:"",twitter:"",other:""}}),u=(0,s.useRouter)();(0,l.useEffect)(()=>{let e=(0,c.v0)(),r=(0,c.Aj)(e,async e=>{if(e){console.log("User is logged in",e.uid);try{let e=await (0,n.Z)();d(e),t(e.docId),console.log("docId is",e.docId)}catch(e){console.log("Error fetching profile",e,e.code)}}else console.log("User is not logged in"),setIsAuthenticated(!1)});return()=>r()},[]);let p=e=>{let{name:t,value:a}=e.target;Object.keys(r.socialMediaLinks).includes(t)?d(e=>({...e,socialMediaLinks:{...e.socialMediaLinks,[t]:a}})):d(e=>({...e,[t]:a}))},x=async t=>{t.preventDefault();try{await f(r.docId,r),console.log("Profile updated successfully",r),g().fire({title:"Successfully updated profile!",text:"Taking you back to your profile page",icon:"success"}),setTimeout(()=>{g().close(),u.push("/pages/profiles?docId=".concat(e))},2e3)}catch(e){console.log("Error updating profile",e,e.code),g().fire({title:"Something went wrong",text:"Please reload the page and try again",icon:"error"})}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{}),(0,a.jsxs)(o.Z,{onSubmit:x,children:[(0,a.jsx)("label",{htmlFor:"file",className:"sr-only",children:"Profile Picture:"}),(0,a.jsx)("input",{id:"file",type:"file",onChange:t=>{t.target.files[0]&&h(t.target.files[0],async t=>{d(e=>({...e,imageUrl:t})),await f(e,{imageUrl:t})})}}),(0,a.jsxs)(o.Z.Group,{controlId:"displayName",children:[(0,a.jsx)(o.Z.Label,{children:"Display Name: "}),(0,a.jsx)(o.Z.Control,{type:"text",name:"displayName",value:r.displayName,onChange:p})]}),(0,a.jsxs)(o.Z.Group,{controlId:"bio",children:[(0,a.jsx)(o.Z.Label,{children:"Bio: "}),(0,a.jsx)(o.Z.Control,{as:"textarea",name:"bio",value:r.bio,onChange:p})]}),(0,a.jsxs)(o.Z.Group,{controlId:"discord",children:[(0,a.jsx)(o.Z.Label,{children:"Discord:"}),(0,a.jsx)(o.Z.Control,{type:"text",name:"discord",value:r.socialMediaLinks.discord,onChange:e=>p(e,"discord")})]}),(0,a.jsxs)(o.Z.Group,{controlId:"instagram",children:[(0,a.jsx)(o.Z.Label,{children:"Instagram:"}),(0,a.jsx)(o.Z.Control,{text:"text",name:"instagram",value:r.socialMediaLinks.instagram,onChange:e=>p(e,"instagram")})]}),(0,a.jsxs)(o.Z.Group,{controlId:"steam",children:[(0,a.jsx)(o.Z.Label,{children:"Steam:"}),(0,a.jsx)(o.Z.Control,{text:"text",name:"steam",value:r.socialMediaLinks.steam,onChange:e=>p(e,"steam")})]}),(0,a.jsxs)(o.Z.Group,{controlId:"twitch",children:[(0,a.jsx)(o.Z.Label,{children:"Twitch:"}),(0,a.jsx)(o.Z.Control,{text:"text",name:"twitter",value:r.socialMediaLinks.twitch,onChange:e=>p(e,"twitch")})]}),(0,a.jsxs)(o.Z.Group,{controlId:"youtube",children:[(0,a.jsx)(o.Z.Label,{children:"YouTube:"}),(0,a.jsx)(o.Z.Control,{text:"text",name:"youtube",value:r.socialMediaLinks.youtube,onChange:e=>p(e,"youtube")})]}),(0,a.jsxs)(o.Z.Group,{controlId:"twitter",children:[(0,a.jsx)(o.Z.Label,{children:"Twitter:"}),(0,a.jsx)(o.Z.Control,{text:"text",name:"twitter",value:r.socialMediaLinks.twitter,onChange:e=>p(e,"twitter")})]}),(0,a.jsxs)(o.Z.Group,{controlId:"other",children:[(0,a.jsx)(o.Z.Label,{children:"Other:"}),(0,a.jsx)(o.Z.Control,{text:"text",name:"other",value:r.socialMediaLinks.other,onChange:e=>p(e,"other")})]}),(0,a.jsx)(i.Z,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}},4651:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var a=r(7437);r(5484);var s=r(1396),l=r.n(s),o=r(2824),i=r(9108),n=r(654),c=r(2765),d=r(3085),u=r(2265),f=r(7429),m=r(3414);function p(){let[e,t]=(0,u.useState)(!1),[r,s]=(0,u.useState)(null),[p,h]=(0,u.useState)(null);return(0,u.useEffect)(()=>{let e=(0,d.v0)(),r=(0,d.Aj)(e,async e=>{if(e){t(!0);try{let e=await (0,f.Z)();s(e),h(e.docId),console.log("User profile found",e),console.log("docId is",e.docId)}catch(e){console.log("Error fetching profile",e,e.code)}}else t(!1)});return()=>r()},[]),(0,a.jsx)(n.Z,{id:"navbar",collapseOnSelect:!0,expand:"lg",children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)(n.Z.Brand,{id:"navbarTitle",children:(0,a.jsx)(m.Z,{src:"/Logo.png",width:"150",height:"60",className:"d-inline-block align-top",alt:"Logo"})})}),(0,a.jsx)(n.Z.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,a.jsxs)(n.Z.Collapse,{id:"responsive-navbar-nav",children:[(0,a.jsxs)(i.Z,{className:"mx-auto",children:[(0,a.jsx)(i.Z.Link,{id:"navItems",href:"/pages/home",children:"Home"}),(0,a.jsx)(i.Z.Link,{id:"navItems",href:"/pages/Games",children:"Live Games"}),(0,a.jsx)(i.Z.Link,{id:"navItems",href:"/pages/find-team",children:"Find a Team"}),(0,a.jsx)(i.Z.Link,{id:"navItems",href:"/pages/SearchProfiles",children:"Search Players"})]}),(0,a.jsxs)(i.Z,{className:"ml-auto",children:[e&&r&&(0,a.jsxs)(c.Z,{id:"collapsible-nav-dropdown",title:(0,a.jsx)(m.Z,{src:r.imageUrl||"/default-profile.png",className:"profile-image",alt:"Profile Picture"}),children:[(0,a.jsxs)(c.Z.Item,{id:"dropDownItems",children:["Welcome,"," ",r?r.displayName:"Loading..."]}),e&&r&&r.docId&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z.Item,{id:"dropDownItems",href:"/pages/profiles?docId=".concat(p),children:"My Profile"}),(0,a.jsx)(c.Z.Item,{id:"dropDownItems",href:"./profiles/EditProfile",children:"Edit Profile"})]}),(0,a.jsx)(c.Z.Item,{id:"dropDownItems",href:"#action/3.2",children:"My Teams"}),(0,a.jsx)(c.Z.Divider,{}),(0,a.jsx)(c.Z.Item,{id:"redDropDownItems",href:"#action/3.4",children:"Deactivate Profile"})]}),!e&&(0,a.jsx)("div",{id:"register-container",children:(0,a.jsxs)("button",{id:"register-button",children:["REGISTER NOW",(0,a.jsx)("span",{id:"register-span",children:"â˜“"})]})})]})]})]})})}},3649:function(){},5484:function(){},4033:function(e,t,r){e.exports=r(5313)},4434:function(e,t,r){"use strict";var a=r(2744),s=r.n(a),l=r(2265),o=r(5956),i=r(7437);let n=l.forwardRef((e,t)=>{let[{className:r,...a},{as:l="div",bsPrefix:n,spans:c}]=function({as:e,bsPrefix:t,className:r,...a}){t=(0,o.vE)(t,"col");let l=(0,o.pi)(),i=(0,o.zG)(),n=[],c=[];return l.forEach(e=>{let r,s,l;let o=a[e];delete a[e],"object"==typeof o&&null!=o?{span:r,offset:s,order:l}=o:r=o;let d=e!==i?`-${e}`:"";r&&n.push(!0===r?`${t}${d}`:`${t}${d}-${r}`),null!=l&&c.push(`order${d}-${l}`),null!=s&&c.push(`offset${d}-${s}`)}),[{...a,className:s()(r,...n,...c)},{as:e,bsPrefix:t,spans:n}]}(e);return(0,i.jsx)(l,{...a,ref:t,className:s()(r,!c.length&&n)})});n.displayName="Col",t.Z=n},3761:function(e,t,r){"use strict";r.d(t,{Ed:function(){return l},UI:function(){return s},XW:function(){return o}});var a=r(2265);function s(e,t){let r=0;return a.Children.map(e,e=>a.isValidElement(e)?t(e,r++):e)}function l(e,t){let r=0;a.Children.forEach(e,e=>{a.isValidElement(e)&&t(e,r++)})}function o(e,t){return a.Children.toArray(e).some(e=>a.isValidElement(e)&&e.type===t)}},6093:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var a=r(2744),s=r.n(a),l=r(4275),o=r.n(l),i=r(2265),n=r(7437);let c={type:o().string,tooltip:o().bool,as:o().elementType},d=i.forwardRef(({as:e="div",className:t,type:r="valid",tooltip:a=!1,...l},o)=>(0,n.jsx)(e,{...l,ref:o,className:s()(t,`${r}-${a?"tooltip":"feedback"}`)}));d.displayName="Feedback",d.propTypes=c;let u=i.createContext({});var f=r(5956);let m=i.forwardRef(({id:e,bsPrefix:t,className:r,type:a="checkbox",isValid:l=!1,isInvalid:o=!1,as:c="input",...d},m)=>{let{controlId:p}=(0,i.useContext)(u);return t=(0,f.vE)(t,"form-check-input"),(0,n.jsx)(c,{...d,ref:m,type:a,id:e||p,className:s()(r,t,l&&"is-valid",o&&"is-invalid")})});m.displayName="FormCheckInput";let p=i.forwardRef(({bsPrefix:e,className:t,htmlFor:r,...a},l)=>{let{controlId:o}=(0,i.useContext)(u);return e=(0,f.vE)(e,"form-check-label"),(0,n.jsx)("label",{...a,ref:l,htmlFor:r||o,className:s()(t,e)})});p.displayName="FormCheckLabel";var h=r(3761);let x=i.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:r,inline:a=!1,reverse:l=!1,disabled:o=!1,isValid:c=!1,isInvalid:x=!1,feedbackTooltip:g=!1,feedback:j,feedbackType:v,className:y,style:b,title:Z="",type:w="checkbox",label:I,children:N,as:C="input",...k},L)=>{t=(0,f.vE)(t,"form-check"),r=(0,f.vE)(r,"form-switch");let{controlId:E}=(0,i.useContext)(u),F=(0,i.useMemo)(()=>({controlId:e||E}),[E,e]),$=!N&&null!=I&&!1!==I||(0,h.XW)(N,p),R=(0,n.jsx)(m,{...k,type:"switch"===w?"checkbox":w,ref:L,isValid:c,isInvalid:x,disabled:o,as:C});return(0,n.jsx)(u.Provider,{value:F,children:(0,n.jsx)("div",{style:b,className:s()(y,$&&t,a&&`${t}-inline`,l&&`${t}-reverse`,"switch"===w&&r),children:N||(0,n.jsxs)(n.Fragment,{children:[R,$&&(0,n.jsx)(p,{title:Z,children:I}),j&&(0,n.jsx)(d,{type:v,tooltip:g,children:j})]})})})});x.displayName="FormCheck";var g=Object.assign(x,{Input:m,Label:p});r(267);let j=i.forwardRef(({bsPrefix:e,type:t,size:r,htmlSize:a,id:l,className:o,isValid:c=!1,isInvalid:d=!1,plaintext:m,readOnly:p,as:h="input",...x},g)=>{let{controlId:j}=(0,i.useContext)(u);return e=(0,f.vE)(e,"form-control"),(0,n.jsx)(h,{...x,type:t,size:a,ref:g,readOnly:p,id:l||j,className:s()(o,m?`${e}-plaintext`:e,r&&`${e}-${r}`,"color"===t&&`${e}-color`,c&&"is-valid",d&&"is-invalid")})});j.displayName="FormControl";var v=Object.assign(j,{Feedback:d});let y=i.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},l)=>(t=(0,f.vE)(t,"form-floating"),(0,n.jsx)(r,{ref:l,className:s()(e,t),...a})));y.displayName="FormFloating";let b=i.forwardRef(({controlId:e,as:t="div",...r},a)=>{let s=(0,i.useMemo)(()=>({controlId:e}),[e]);return(0,n.jsx)(u.Provider,{value:s,children:(0,n.jsx)(t,{...r,ref:a})})});b.displayName="FormGroup";var Z=r(4434);let w=i.forwardRef(({as:e="label",bsPrefix:t,column:r=!1,visuallyHidden:a=!1,className:l,htmlFor:o,...c},d)=>{let{controlId:m}=(0,i.useContext)(u);t=(0,f.vE)(t,"form-label");let p="col-form-label";"string"==typeof r&&(p=`${p} ${p}-${r}`);let h=s()(l,t,a&&"visually-hidden",r&&p);return(o=o||m,r)?(0,n.jsx)(Z.Z,{ref:d,as:"label",className:h,htmlFor:o,...c}):(0,n.jsx)(e,{ref:d,className:h,htmlFor:o,...c})});w.displayName="FormLabel";let I=i.forwardRef(({bsPrefix:e,className:t,id:r,...a},l)=>{let{controlId:o}=(0,i.useContext)(u);return e=(0,f.vE)(e,"form-range"),(0,n.jsx)("input",{...a,type:"range",ref:l,className:s()(t,e),id:r||o})});I.displayName="FormRange";let N=i.forwardRef(({bsPrefix:e,size:t,htmlSize:r,className:a,isValid:l=!1,isInvalid:o=!1,id:c,...d},m)=>{let{controlId:p}=(0,i.useContext)(u);return e=(0,f.vE)(e,"form-select"),(0,n.jsx)("select",{...d,size:r,ref:m,className:s()(a,e,t&&`${e}-${t}`,l&&"is-valid",o&&"is-invalid"),id:c||p})});N.displayName="FormSelect";let C=i.forwardRef(({bsPrefix:e,className:t,as:r="small",muted:a,...l},o)=>(e=(0,f.vE)(e,"form-text"),(0,n.jsx)(r,{...l,ref:o,className:s()(t,e,a&&"text-muted")})));C.displayName="FormText";let k=i.forwardRef((e,t)=>(0,n.jsx)(g,{...e,ref:t,type:"switch"}));k.displayName="Switch";var L=Object.assign(k,{Input:g.Input,Label:g.Label});let E=i.forwardRef(({bsPrefix:e,className:t,children:r,controlId:a,label:l,...o},i)=>(e=(0,f.vE)(e,"form-floating"),(0,n.jsxs)(b,{ref:i,className:s()(t,e),controlId:a,...o,children:[r,(0,n.jsx)("label",{htmlFor:a,children:l})]})));E.displayName="FloatingLabel";let F={_ref:o().any,validated:o().bool,as:o().elementType},$=i.forwardRef(({className:e,validated:t,as:r="form",...a},l)=>(0,n.jsx)(r,{...a,ref:l,className:s()(e,t&&"was-validated")}));$.displayName="Form",$.propTypes=F;var R=Object.assign($,{Group:b,Control:v,Floating:y,Check:g,Switch:L,Label:w,Text:C,Range:I,Select:N,FloatingLabel:E})}},function(e){e.O(0,[358,380,461,357,229,971,938,744],function(){return e(e.s=2376)}),_N_E=e.O()}]);